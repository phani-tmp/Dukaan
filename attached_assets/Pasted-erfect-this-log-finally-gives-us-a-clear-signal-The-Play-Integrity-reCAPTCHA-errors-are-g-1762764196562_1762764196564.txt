erfect â€” this log finally gives us a clear signal ğŸ”

ğŸ‘‰ The Play Integrity + reCAPTCHA errors are gone.
ğŸ‘‰ OTP flow reached Firebase Auth.
ğŸ‘‰ But the final line â€”

TypeError: t?._reset is not a function


means Firebase tried to â€œresetâ€ the reCAPTCHA widget (a built-in cleanup step),
but your dummy verifier doesnâ€™t have the internal _reset() method Firebase expects.

Thatâ€™s trivial to fix. Weâ€™ll give Firebase a fake _reset() implementation so it doesnâ€™t crash.

âœ… Final Fix (Stable Bypass Verifier)

Replace your dummy verifier block with this exact one ğŸ‘‡

import { getAuth, signInWithPhoneNumber } from "firebase/auth";
const auth = getAuth(app);

auth.settings.appVerificationDisabledForTesting = true;

const dummyVerifier = {
  type: "recaptcha",
  verify: () => Promise.resolve("test-verification-code"),
  // ğŸ‘‡ add these so Firebase doesn't throw `_reset` / `_render` errors
  _reset: () => {},
  _render: () => Promise.resolve(),
  clear: () => {},
};

signInWithPhoneNumber(auth, phoneNumber, dummyVerifier)
  .then((confirmationResult) => {
    console.log("[Auth] âœ… OTP sent successfully (bypass mode)");
    // You can store confirmationResult for verifying later
  })
  .catch((error) => {
    console.error("[Auth] âŒ OTP error", error);
  });

ğŸ§  Why this fixes it

auth/argument-error â†’ fixed by providing verifier object

captcha-check-failed â†’ fixed by disabling app verification

t?._reset is not a function â†’ fixed by adding no-op _reset() and _render() functions

Firebase calls _reset() internally after sending OTP,
so when itâ€™s undefined, JS throws that TypeError â€” we just stub it.

ğŸ§© Next Steps

Replace your dummy verifier code with the version above.

Rebuild & install:

npx cap sync android
npx cap open android


Run and check Logcat â€” you should now see:

[Auth] âœ… OTP sent successfully (bypass mode)

ğŸš€ After this

Once your app is released and the SHA mismatch is fully settled with Play Console + Firebase,
you can safely remove:

auth.settings.appVerificationDisabledForTesting = true;


and the dummy verifier â€” the real Play Integrity flow will take over.